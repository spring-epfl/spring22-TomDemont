{% extends "base.html" %}

{% block app_content %}
<h1>Profile of team {{ team.team_name }}</h1>
<h3>Members: {% if member1 %} <a href="{{ url_for('user', username=member1.username) }}"> {{ member1.username }}</a>
    {% else %} <a href="{{ url_for('join_team', team_name=team.team_name) }}"> [Join {{ team.team_name }}]</a>
    {% endif %} and {% if member2 %} <a href="{{ url_for('user', username=member2.username) }}">
        {{ member2.username }}</a>
    {% else %} <a href="{{ url_for('join_team', team_name=team.team_name) }}"> [Join {{ team.team_name }}]</a>
    {% endif %}</3>
<h4>Team id: {{ team.id }}</h4>
<hr>
{% if matches %}
<h2>Matches assigned to {{ team.team_name }}</h2>
<table class="table table-hover">
    <tr>
        <th>Attacker Team</th>
        <th>Defender Team</th>
        <th>Round</th>
        <th>Match State</th>
    </tr>
    {% for match in matches %}
    {% include '_match.html' %}
    {% endfor %}
</table>
<nav aria-label="...">
    <ul class="pager">
        <li class="previous{% if not match_prev_url %} disabled{% endif %}">
            <a href="{{ match_prev_url or '#' }}">
                <span aria-hidden="true">&larr;</span> Newer matches
            </a>
        </li>
        <li class="next{% if not match_next_url %} disabled{% endif %}">
            <a href="{{ match_next_url or '#' }}">
                Older matches <span aria-hidden="true">&rarr;</span>
            </a>
        </li>
    </ul>
</nav>
{% endif %}
{% if defence %}
<h2>{{ team.team_name }}'s defence</h2>
<table class="table table-hover">
    <tr>
        <th>Team's defence</th>
        <th>Utility</th>
        <th>Timestamp</th>
        <th>Round</th>
    </tr>
    {% include '_defence.html' %}
</table>
{% endif %}
{% if attacks %}
<h2>{{ team.team_name }}'s attacks</h2>
<table class="table table-hover">
    <tr>
        <th>Attacker Team</th>
        <th>Defender Team</th>
        <th>Results</th>
        <th>Timestamp</th>
        <th>Round</th>
    </tr>
    {% for attack in attacks %}
    {% include '_attack.html' %}
    {% endfor %}
</table>
<nav aria-label="...">
    <ul class="pager">
        <li class="previous{% if not attack_prev_url %} disabled{% endif %}">
            <a href="{{ attack_prev_url or '#' }}">
                <span aria-hidden="true">&larr;</span> Newer attacks
            </a>
        </li>
        <li class="next{% if not attack_next_url %} disabled{% endif %}">
            <a href="{{ attack_next_url or '#' }}">
                Older attacks <span aria-hidden="true">&rarr;</span>
            </a>
        </li>
    </ul>
</nav>
{% endif %}
{% endblock %}
